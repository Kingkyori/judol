(()=>{var e={};e.id=797,e.ids=[797],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},648:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>d}),s(2637),s(1506),s(5866);var a=s(3191),n=s(8716),r=s(7922),i=s.n(r),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let d=["",{children:["user",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,2637)),"E:\\PROGRAM\\judol\\app\\user\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,1506)),"E:\\PROGRAM\\judol\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["E:\\PROGRAM\\judol\\app\\user\\page.tsx"],u="/user/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/user/page",pathname:"/user",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2044:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,9404,23))},7138:(e,t,s)=>{Promise.resolve().then(s.bind(s,92))},9822:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},92:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>l});var a=s(326),n=s(7577),r=s(9404),i=s.n(r);function l(){let[e,t]=(0,n.useState)(null),[s,r]=(0,n.useState)(null),[l,o]=(0,n.useState)(!1),d=(0,n.useMemo)(()=>["7","♣","♥","♦","★","\uD83C\uDF52","\uD83D\uDD14","\uD83C\uDF4B"],[]),c=1200*d.length,[u,m]=(0,n.useState)([0,0,0]),[h,p]=(0,n.useState)(["none","none","none"]),x=(0,n.useRef)([]),[j,v]=(0,n.useState)(null),[g,f]=(0,n.useState)(!1);async function N(){if(l)return;r(null),v(null),o(!0);let e=Date.now(),t=[1600,1900,2200],s=[1100,1200,1300];p(["none","none","none"]);let a=[e,e,e],n=n=>{let r=()=>{let i=Date.now(),l=(i-a[n])/1e3;a[n]=i;let o=Math.min(1,(i-e)/t[n]);m(e=>{let t=[...e],a=t[n]+s[n]*l;return t[n]=Math.min(a,c-120),t}),o<1&&(x.current[n]=requestAnimationFrame(r))};x.current[n]=requestAnimationFrame(r)};n(0),n(1),n(2);try{let e=await fetch("/api/simulate",{method:"POST"}),s=e.ok?await e.json():null,a=d.length,n=Math.floor(Math.random()*a),i=[n,(n+1)%a,(n+3)%a],l=s?.outcome??"LOSE";"WIN"===l&&(i=[n,n,n]);let h=e=>{let t=u[e],s=120*i[e],n=120*a,r=[];for(let e=0;e<10;e++)r.push(s+e*n);let l=r.filter(e=>e>=t),o=l.length?Math.min(...l):s;p(t=>{let s=[...t];return s[e]="transform 420ms cubic-bezier(0.22, 1, 0.36, 1)",s}),m(t=>{let s=[...t];return s[e]=Math.min(o,c-120),s}),x.current[e]&&cancelAnimationFrame(x.current[e])};t.forEach((e,t)=>{setTimeout(()=>h(t),e+50)}),setTimeout(()=>{r(s),"WIN"===l?(v("Selamat! Anda MENANG."),f(!0),setTimeout(()=>f(!1),1500)):"LOSE"===l?v("Maaf, Anda KALAH."):"DISABLED"===l&&v("Jackpot sedang tidak aktif."),o(!1)},Math.max(...t)+500)}catch{o(!1)}}return a.jsx("div",{className:"container",children:(0,a.jsxs)("div",{className:"card",children:[a.jsx("div",{className:"hero-title",children:"Mesin Jackpot"}),a.jsx("div",{className:"hero-subtitle",children:"Coba keberuntungan Anda, lihat dampak dari pengaturan Admin secara langsung."}),e?(0,a.jsxs)("div",{className:"grid-two",style:{marginTop:16},children:[(0,a.jsxs)("div",{style:{justifySelf:"center"},children:[(0,a.jsxs)("div",{className:"slot-wrap",children:[a.jsx("div",{className:`slot ${s?.outcome==="WIN"?"win":s?.outcome==="LOSE"?"lose":""}`,role:"img","aria-label":"Mesin slot 3 reel",children:[0,1,2].map(e=>a.jsx("div",{className:`reel ${l?"spinning":""}`,children:a.jsx("div",{className:"symbols",style:{transform:`translateY(-${u[e]}px)`,transition:h[e]},children:Array.from({length:10}).flatMap(()=>d).map((t,s)=>a.jsx("div",{className:"symbol",children:t},e+"-"+s))})},e))}),g&&a.jsx("div",{className:"confetti","aria-hidden":!0,children:Array.from({length:14}).map((e,t)=>a.jsx("span",{className:"confetti-piece",style:{left:`${7*t%100}%`,background:["#ef4444","#22c55e","#3b82f6","#f59e0b"][t%4]}},t))})]}),(0,a.jsxs)("div",{style:{display:"flex",gap:12,marginTop:14,justifyContent:"center"},children:[a.jsx("button",{className:"btn btn-primary",onClick:N,disabled:l,children:l?"Memutar…":"Spin"}),a.jsx(i(),{className:"btn btn-ghost",href:"/",children:"Beranda"})]}),s?.outcome&&a.jsx("div",{className:`badge ${"WIN"===s.outcome?"win":"LOSE"===s.outcome?"lose":"info"}`,style:{marginTop:10,justifySelf:"center"},children:"WIN"===s.outcome?"MENANG":"LOSE"===s.outcome?"KALAH":"DISABLED"===s.outcome?"NONAKTIF":s.outcome}),j&&a.jsx("div",{className:"notice",style:{marginTop:10},"aria-live":"polite",children:j})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"stat-list",children:[(0,a.jsxs)("div",{className:"stat",children:[a.jsx("span",{children:"\uD83D\uDCA1"}),a.jsx("div",{className:"label",children:"Jackpot Aktif"}),a.jsx("div",{className:"value",children:e.jackpotEnabled?"Ya":"Tidak"})]}),(0,a.jsxs)("div",{className:"stat",children:[a.jsx("span",{children:"\uD83C\uDFAF"}),a.jsx("div",{className:"label",children:"Izinkan Menang"}),a.jsx("div",{className:"value",children:e.allowWin?"Ya":"Tidak"})]}),(0,a.jsxs)("div",{className:"stat",children:[a.jsx("span",{children:"\uD83D\uDCC8"}),a.jsx("div",{className:"label",children:"Presentase Jackpot"}),a.jsx("div",{className:"value",children:e.jackpotPercent})]})]}),a.jsx("div",{className:"card",style:{marginTop:12},children:a.jsx("p",{children:"Tekan tombol untuk mencoba spin. Hasil akan mengikuti pengaturan dari Admin."})})]})]}):a.jsx("p",{style:{marginTop:12},children:"Memuat pengaturan…"})]})})}},1506:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>r});var a=s(9510);s(7272);var n=s(7371);let r={title:"Judol Learning App",description:"Admin-user linked settings demo"};function i({children:e}){return a.jsx("html",{lang:"id",children:(0,a.jsxs)("body",{className:"app",children:[a.jsx("header",{className:"site-header",children:(0,a.jsxs)("div",{className:"site-header__inner",children:[a.jsx("div",{className:"brand",children:"Judol"}),(0,a.jsxs)("nav",{className:"nav",children:[a.jsx(n.default,{href:"/",children:"Beranda"}),a.jsx(n.default,{href:"/admin",children:"Admin"}),a.jsx(n.default,{href:"/user",children:"User"})]})]})}),a.jsx("main",{className:"site-main",children:e}),a.jsx("footer",{className:"site-footer",children:a.jsx("div",{className:"site-footer__inner",children:(0,a.jsxs)("span",{children:["\xa9 ",new Date().getFullYear()," Judol"]})})})]})})}},2637:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>r,default:()=>l});var a=s(8570);let n=(0,a.createProxy)(String.raw`E:\PROGRAM\judol\app\user\page.tsx`),{__esModule:r,$$typeof:i}=n;n.default;let l=(0,a.createProxy)(String.raw`E:\PROGRAM\judol\app\user\page.tsx#default`)},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[948,707],()=>s(648));module.exports=a})();